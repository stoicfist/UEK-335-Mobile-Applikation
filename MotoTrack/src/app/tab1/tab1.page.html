<ion-content [fullscreen]="true">
  <!-- Routing Input Toolbar -->
  <div class="routing-toolbar">
    <ion-card class="routing-card">
      <!-- Start Input -->
      <ion-item lines="none">
        <ion-icon name="location" slot="start" color="primary"></ion-icon>
        <ion-input
          [(ngModel)]="startInput"
          placeholder="Startpunkt eingeben..."
          (keyup.enter)="searchStart()">
        </ion-input>
        <ion-button slot="end" fill="clear" (click)="useCurrentLocation()">
          <ion-icon name="locate" color="primary"></ion-icon>
        </ion-button>
        <ion-button slot="end" fill="clear" (click)="searchStart()">
          <ion-icon name="search" color="primary"></ion-icon>
        </ion-button>
      </ion-item>

      <!-- Destination Input -->
      <ion-item lines="none">
        <ion-icon name="flag" slot="start" color="danger"></ion-icon>
        <ion-input
          [(ngModel)]="endInput"
          placeholder="Ziel eingeben..."
          (keyup.enter)="searchEnd()">
        </ion-input>
        <ion-button slot="end" fill="clear" (click)="searchEnd()">
          <ion-icon name="search" color="primary"></ion-icon>
        </ion-button>
      </ion-item>

      <!-- Route Info (if route exists) -->
      <ion-item lines="none" *ngIf="routeInfo">
        <ion-label>
          <p><strong>Distanz:</strong> {{ routeInfo.distance }} km</p>
          <p><strong>Dauer:</strong> {{ routeInfo.duration }} min</p>
        </ion-label>
        <ion-button slot="end" fill="clear" color="danger" (click)="clearRoute()">
          <ion-icon name="close-circle"></ion-icon>
        </ion-button>
      </ion-item>
    </ion-card>
  </div>

  <!-- Map Container -->
  <div id="map" #mapContainer></div>
  
  <!-- My Location FAB -->
  <ion-fab-button class="location-button" (click)="goToMyLocation()">
    <ion-icon name="locate"></ion-icon>
  </ion-fab-button>
</ion-content>
